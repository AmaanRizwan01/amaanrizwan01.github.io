<!DOCTYPE html>
<html lang="en" class="antialiased">
<head>
    <meta charset="UTF-8">
    <!-- Viewport: shrink-to-fit=no added for iOS safety -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <title>Amaan Rizwan | Backend & Automation Engineer</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cyber: {
                            black: '#030305',
                            dark: '#0a0a0f',
                            gray: '#1a1a24',
                            primary: '#00f0ff',
                            secondary: '#7000ff',
                            accent: '#0aff64',
                            text: '#e0e0e0',
                            dim: '#858585'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style>
        :root {
            --cursor-size: 20px;
        }
        
        html.lenis, html.lenis body {
            height: auto;
        }
        
        .lenis.lenis-smooth {
            scroll-behavior: auto !important;
        }
        
        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }
        
        .lenis.lenis-stopped {
            overflow: hidden;
        }
        
        /* --- BACKGROUND & LAYOUT FIXES --- */
        html {
            background-color: #030305;
            width: 100%;
            overflow-x: hidden; /* Prevents horizontal scroll/zoom */
        }

        body {
            background-color: transparent;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden; /* Double safety */
            position: relative;
        }

        /* --- RESTORED CUSTOM SCROLLBAR --- */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #030305;
        }
        ::-webkit-scrollbar-thumb {
            background: #1a1a24;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #00f0ff;
        }

        /* Three.js Canvas - Fixed in background */
        #webgl-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }

        /* Tornado Container */
        #tornado-container {
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* Utilities */
        .glass-panel {
            background: rgba(10, 10, 15, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Custom Cursor */
        #custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: var(--cursor-size);
            height: var(--cursor-size);
            border: 1px solid #00f0ff;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background 0.2s, border-color 0.2s;
            background: rgba(0, 240, 255, 0.05);
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.2);
        }
        #custom-cursor.hovered {
            width: 50px;
            height: 50px;
            background: rgba(0, 240, 255, 0.1);
            border-color: #0aff64;
        }

        /* Horizontal Scroll Section */
        #projects-wrapper {
            overflow: hidden;
            width: 100%;
            max-width: 100vw;
        }
        
        .horizontal-section {
            display: flex;
            flex-wrap: nowrap;
            will-change: transform;
        }
        
        /* Marquee Animations */
        .animate-marquee { animation: marquee 25s linear infinite; }
        .animate-marquee2 { animation: marquee2 25s linear infinite; }
        .animate-marquee-reverse { animation: marquee-reverse 25s linear infinite; }
        .animate-marquee2-reverse { animation: marquee2-reverse 25s linear infinite; }

        @keyframes marquee { 0% { transform: translateX(0%); } 100% { transform: translateX(-100%); } }
        @keyframes marquee2 { 0% { transform: translateX(100%); } 100% { transform: translateX(0%); } }
        @keyframes marquee-reverse { 0% { transform: translateX(-100%); } 100% { transform: translateX(0%); } }
        @keyframes marquee2-reverse { 0% { transform: translateX(0%); } 100% { transform: translateX(100%); } }
        
        /* Nav link styles */
        .nav-link {
            cursor: pointer;
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #0aff64;
        }
        
        .nav-link.active {
            color: #0aff64;
            text-shadow: 0 0 5px rgba(10, 255, 100, 0.5);
        }

        /* HUD Animations */
        @keyframes spin-slow {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        @keyframes reverse-spin {
            from { transform: translate(-50%, -50%) rotate(360deg); }
            to { transform: translate(-50%, -50%) rotate(0deg); }
        }
        @keyframes scan {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }
        .animate-spin-slow {
            animation: spin-slow 20s linear infinite;
        }
        .animate-reverse-spin {
            animation: reverse-spin 15s linear infinite;
        }
        .animate-scan {
            animation: scan 4s linear infinite;
        }

        /* Sound Toggle Button */
        #sound-toggle {
            position: fixed;
            bottom: 90px;
            left: 90px;
            z-index: 9998;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #ffffff;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
            background: transparent;
            border: none;
            padding: 0;
            transition: text-shadow 0.3s ease, transform 0.3s ease;
        }
        
        #sound-toggle:hover {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
            transform: scale(1.05);
        }
        
        #sound-toggle svg {
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
        }

        #sound-toggle .sound-text {
            display: inline-block;
            min-width: 90px;
        }

        /* Mobile specific styles */
        @media (max-width: 768px) {
            #sound-toggle {
                bottom: 20px;
                left: 20px;
            }
            #tornado-container {
                display: none;
            }
            #custom-cursor {
                display: none;
            }
            /* Safety for horizontal sections */
            #projects-wrapper { max-width: 100%; }
        }
    </style>
</head>
<body class="selection:bg-cyber-primary selection:text-black overflow-x-hidden">

    <!-- Background Audio -->
    <audio id="bg-audio" loop preload="auto">
        <source src="music/bg-music.mp3" type="audio/mpeg">
    </audio>

    <!-- Menu Hover SFX -->
    <audio id="hover-sfx" preload="auto">
        <source src="music/text-hover-primary.wav" type="audio/wav">
    </audio>

    <!-- Button Hover SFX -->
    <audio id="btn-hover-sfx" preload="auto">
        <source src="music/button-hover.wav" type="audio/wav">
    </audio>

    <!-- Button Click SFX -->
    <audio id="btn-click-sfx" preload="auto">
        <source src="music/button-click.wav" type="audio/wav">
    </audio>

    <!-- Custom Cursor -->
    <div id="custom-cursor"></div>

    <!-- WebGL Background -->
    <div id="webgl-container"></div>

    <!-- Sound Toggle Button -->
    <div id="sound-toggle">
        <svg id="sound-icon-off" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"></path>
        </svg>
        <svg id="sound-icon-on" class="w-4 h-4 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
        </svg>
        <span class="sound-text" id="sound-text">Sound: Off</span>
    </div>

    <!-- Header / Nav -->
    <header class="fixed top-0 w-full z-50 p-6">
        <div class="flex justify-between items-center max-w-7xl mx-auto font-mono text-sm">
            <div class="text-cyber-primary tracking-widest">[ AR-SYSTEMS ]</div>
            <nav class="hidden md:flex gap-8 text-cyber-dim">
                <span class="nav-link" data-target="#about">01 // ABOUT</span>
                <span class="nav-link" data-target="#expertise">02 // EXPERTISE</span>
                <span class="nav-link" data-target="#projects-wrapper">03 // PROJECTS</span>
                <span class="nav-link" data-target="#contact">04 // CONTACT</span>
            </nav>
            <div class="text-xs text-cyber-accent animate-pulse">● SYSTEM ONLINE</div>
        </div>
    </header>

    <main id="smooth-wrapper" class="w-full overflow-x-hidden">
        <div id="smooth-content">

            <!-- HERO SECTION -->
            <section id="hero" class="h-screen flex flex-col justify-center items-center relative px-6 overflow-hidden">
                <!-- Tornado 3D Container -->
                <div id="tornado-container"></div>
                
                <!-- Tech HUD Overlay - RELATIVE WIDTHS FIX -->
                <div class="absolute top-0 right-0 w-full md:w-1/2 h-full z-20 pointer-events-none select-none overflow-hidden">
                    <!-- Center Reticles: Adjusted for mobile fitting -->
                    <div class="absolute top-[40%] md:top-1/2 left-1/2 w-[280px] h-[280px] md:w-[400px] md:h-[400px] border border-cyber-primary/10 rounded-full animate-spin-slow" style="border-style: dashed;"></div>
                    <div class="absolute top-[40%] md:top-1/2 left-1/2 w-[230px] h-[230px] md:w-[350px] md:h-[350px] border-t border-b border-cyber-accent/20 rounded-full animate-reverse-spin"></div>
                    
                    <div class="absolute top-[40%] md:top-1/2 left-1/2 w-4 h-4 border border-cyber-primary/50 -translate-x-1/2 -translate-y-1/2"></div>
                    <!-- Crosshair Line: w-[90vw] prevents horizontal scroll -->
                    <div class="absolute top-[40%] md:top-1/2 left-1/2 w-[90vw] md:w-[600px] h-px bg-gradient-to-r from-transparent via-cyber-dim/20 to-transparent -translate-x-1/2 -translate-y-1/2"></div>
                    
                    <div class="absolute top-[20%] right-10 font-mono text-[10px] text-cyber-primary/60 text-right space-y-1 hidden md:block">
                        <div><span class="inline-block w-2 h-2 bg-cyber-accent/50 mr-2 animate-pulse"></span>SYSTEM_ACTIVE</div>
                        <div>T_VEL: 2400 m/s</div>
                        <div>H_ALT: 3.2 km</div>
                    </div>
                    
                    <div class="absolute top-0 left-10 h-full w-px bg-cyber-dim/10 hidden md:block">
                        <div class="absolute top-0 left-[-2px] w-1 h-20 bg-cyber-primary/50 animate-scan"></div>
                    </div>

                    <div class="absolute bottom-32 right-20 font-mono text-[10px] text-cyber-dim/40 hidden md:block text-right leading-tight">
                        <div>> initializing_core_sequence...</div>
                        <div>> loading_modules [32/40]</div>
                    </div>
                </div>
                
                <div class="max-w-6xl w-full relative z-10">
                    <p class="font-mono text-cyber-primary mb-4 reveal-text">HELLO_WORLD</p>
                    <h1 class="font-display text-5xl md:text-8xl font-bold uppercase tracking-tight leading-none mb-6">
                        <span class="block reveal-text">Amaan</span>
                        <span class="block reveal-text text-transparent bg-clip-text bg-gradient-to-r from-white to-cyber-dim">Rizwan</span>
                    </h1>
                    <div class="h-px w-24 bg-cyber-accent mb-6 reveal-text"></div>
                    <p class="font-mono text-lg md:text-xl text-cyber-text max-w-2xl mb-10 reveal-text">
                        Software Engineer · Backend & Automation<br>
                        <span class="text-cyber-dim text-sm">Building scalable systems & data-driven logic.</span>
                    </p>
                    
                    <div class="flex gap-6 font-mono text-sm reveal-text">
                        <a href="https://github.com/AmaanRizwan01" target="_blank" class="border border-cyber-dim px-6 py-3 hover:bg-cyber-primary hover:text-black hover:border-cyber-primary transition-all duration-300 shuffle-btn click-trigger">
                            GH :: GITHUB
                        </a>
                        <a href="https://www.linkedin.com/in/amaan-rizwan-se01" target="_blank" class="border border-cyber-dim px-6 py-3 hover:bg-cyber-secondary hover:text-white hover:border-cyber-secondary transition-all duration-300 shuffle-btn click-trigger">
                            LI :: LINKEDIN
                        </a>
                    </div>
                </div>

                <div class="absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2">
                    <span class="font-mono text-xs text-cyber-dim rotate-90 mb-8">SCROLL</span>
                    <div class="w-px h-12 bg-gradient-to-b from-cyber-primary to-transparent"></div>
                </div>
            </section>

            <!-- ABOUT SECTION -->
            <section id="about" class="py-24 px-6 relative">
                <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center">
                    <div class="font-mono text-sm text-cyber-dim space-y-4">
                        <div class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-cyber-secondary"></span>
                            <span>ID: 01 // BIO_DATA</span>
                        </div>
                        <div class="glass-panel p-6 border-l-2 border-cyber-secondary">
                            <p class="leading-relaxed text-cyber-text mb-4">
                                I'm a Software Engineer focused on building <span class="text-cyber-primary">scalable backend systems</span>, automation workflows, and production-ready web applications.
                            </p>
                            <p class="leading-relaxed text-cyber-text">
                                My approach combines data-driven logic with clean architecture. Rather than chasing trends, I focus on shipping systems that solve real problems and perform reliably in real-world environments.
                            </p>
                        </div>
                    </div>
                    <div class="relative">
                        <div class="absolute -top-10 -left-10 w-20 h-20 border-t border-l border-cyber-dim opacity-30"></div>
                        <div class="absolute -bottom-10 -right-10 w-20 h-20 border-b border-r border-cyber-dim opacity-30"></div>
                        
                        <h2 class="font-display text-3xl md:text-5xl font-bold mb-6">
                            Precision in <br>
                            <span class="text-cyber-accent">Code & Data</span>
                        </h2>
                        <ul class="space-y-4 font-mono text-cyber-text">
                            <li class="flex items-center gap-4">
                                <span class="text-cyber-primary">>></span> Backend Architecture
                            </li>
                            <li class="flex items-center gap-4">
                                <span class="text-cyber-primary">>></span> Process Automation
                            </li>
                            <li class="flex items-center gap-4">
                                <span class="text-cyber-primary">>></span> AI Integration
                            </li>
                            <li class="flex items-center gap-4">
                                <span class="text-cyber-primary">>></span> Financial Data Processing
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- EXPERTISE SECTION -->
            <section id="expertise" class="py-24 px-6 bg-cyber-dark/50">
                <div class="max-w-6xl mx-auto">
                    <div class="mb-16 border-b border-cyber-gray pb-4 flex justify-between items-end">
                        <h2 class="font-display text-3xl md:text-5xl font-bold">CORE MODULES</h2>
                        <span class="font-mono text-cyber-dim hidden md:block">SYSTEM_CAPABILITIES</span>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="glass-panel p-8 group hover:border-cyber-primary transition-colors duration-500">
                            <div class="text-cyber-primary text-4xl mb-6">01</div>
                            <h3 class="font-display text-2xl font-bold mb-4 group-hover:text-cyber-primary transition-colors">Backend Engineering</h3>
                            <p class="text-cyber-dim mb-6 leading-relaxed">
                                Designing and implementing scalable backend systems using Python and Flask. Experienced in building RESTful APIs, handling structured data, and ensuring performance.
                            </p>
                            <div class="flex flex-wrap gap-2 font-mono text-xs text-cyber-text">
                                <span class="bg-cyber-gray px-2 py-1">Python</span>
                                <span class="bg-cyber-gray px-2 py-1">Flask</span>
                                <span class="bg-cyber-gray px-2 py-1">SQL</span>
                                <span class="bg-cyber-gray px-2 py-1">APIs</span>
                            </div>
                        </div>

                        <div class="glass-panel p-8 group hover:border-cyber-accent transition-colors duration-500">
                            <div class="text-cyber-accent text-4xl mb-6">02</div>
                            <h3 class="font-display text-2xl font-bold mb-4 group-hover:text-cyber-accent transition-colors">Automation & Data</h3>
                            <p class="text-cyber-dim mb-6 leading-relaxed">
                                Building automation workflows and intelligent systems that reduce manual effort. Experienced in processing large datasets and implementing predictive logic.
                            </p>
                            <div class="flex flex-wrap gap-2 font-mono text-xs text-cyber-text">
                                <span class="bg-cyber-gray px-2 py-1">n8n</span>
                                <span class="bg-cyber-gray px-2 py-1">Pandas</span>
                                <span class="bg-cyber-gray px-2 py-1">NumPy</span>
                                <span class="bg-cyber-gray px-2 py-1">AI Logic</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TECH ARSENAL (Marquee) - Added max-w-full -->
            <section id="tech-arsenal" class="py-16 bg-black overflow-hidden border-y border-cyber-gray w-full max-w-full">
                <div class="max-w-7xl mx-auto mb-8 px-6">
                     <h3 class="font-mono text-cyber-dim text-sm">>> LOAD_LIBRARY: TECHNICAL_ARSENAL</h3>
                </div>
                
                <div class="relative flex overflow-x-hidden group">
                    <div class="animate-marquee whitespace-nowrap py-4">
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">PYTHON</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">FLASK</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">JAVASCRIPT</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">SQL</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">PHP</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">NUMPY</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">PANDAS</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">GIT</span>
                    </div>
                    <div class="absolute top-0 animate-marquee2 whitespace-nowrap py-4">
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">PYTHON</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">FLASK</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">JAVASCRIPT</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">SQL</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">PHP</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">NUMPY</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">PANDAS</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">GIT</span>
                    </div>
                </div>
                
                <div class="relative flex overflow-x-hidden group mt-4">
                    <div class="animate-marquee-reverse whitespace-nowrap py-4">
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">WORDPRESS</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">WOOCOMMERCE</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">N8N</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">OLLAMA</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">JAVA</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">ELEMENTOR</span>
                    </div>
                    <div class="absolute top-0 animate-marquee2-reverse whitespace-nowrap py-4">
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">WORDPRESS</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">WOOCOMMERCE</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">N8N</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">OLLAMA</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-white mx-4 md:mx-8">JAVA</span>
                        <span class="text-2xl md:text-4xl font-display font-bold text-cyber-gray mx-4 md:mx-8">ELEMENTOR</span>
                    </div>
                </div>
            </section>

            <!-- HORIZONTAL PROJECTS SECTION -->
            <section id="projects-wrapper" class="relative bg-cyber-black w-full overflow-hidden">
                <div class="h-screen flex items-center overflow-hidden">
                    <div class="absolute top-20 left-10 z-10">
                        <h2 class="font-display text-3xl md:text-5xl font-bold text-white">DEPLOYED<br><span class="text-cyber-primary">PROJECTS</span></h2>
                    </div>
                    
                    <div id="projects-container" class="horizontal-section flex items-center h-full pl-[25vw] gap-10 pt-28">
                        
                        <!-- Project 1 -->
                        <div class="project-card w-[80vw] md:w-[50vw] h-[60vh] glass-panel flex flex-col md:flex-row border-t-4 border-cyber-primary p-0 overflow-hidden relative group shrink-0">
                            <div class="p-8 md:w-1/2 flex flex-col justify-between z-10 bg-cyber-black/90">
                                <div>
                                    <span class="font-mono text-cyber-primary text-xs">FINTECH // BACKEND</span>
                                    <h3 class="font-display text-2xl md:text-3xl font-bold mt-2 mb-4">Provident Fund System</h3>
                                    <p class="text-cyber-dim text-sm leading-relaxed mb-6">
                                        Backend system for automating provident fund calculations and insights. Built to handle large datasets (10k+ records) with AI-assisted prediction.
                                    </p>
                                    <ul class="font-mono text-xs text-cyber-text space-y-2 mb-6">
                                        <li>> Python & Flask</li>
                                        <li>> Pandas / NumPy</li>
                                        <li>> Predictive Logic</li>
                                    </ul>
                                </div>
                                <div class="text-6xl font-display font-bold text-cyber-gray/20 absolute bottom-4 right-4 group-hover:text-cyber-primary/20 transition-colors">01</div>
                            </div>
                            <div class="md:w-1/2 bg-gradient-to-br from-cyber-gray to-black flex items-center justify-center relative overflow-hidden">
                                <div class="absolute inset-0 grid grid-cols-6 grid-rows-6 opacity-20">
                                    <div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div>
                                    <div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div><div class="border border-cyber-primary/30"></div>
                                </div>
                                <div class="text-cyber-primary font-mono text-xl z-10 group-hover:scale-110 transition-transform duration-500">
                                    [ DATA_ANALYSIS_VIEW ]
                                </div>
                            </div>
                        </div>

                        <!-- Project 2 -->
                        <div class="project-card w-[80vw] md:w-[50vw] h-[60vh] glass-panel flex flex-col md:flex-row border-t-4 border-cyber-secondary p-0 overflow-hidden relative group shrink-0">
                            <div class="p-8 md:w-1/2 flex flex-col justify-between z-10 bg-cyber-black/90">
                                <div>
                                    <span class="font-mono text-cyber-secondary text-xs">E-COMMERCE // FULL STACK</span>
                                    <h3 class="font-display text-2xl md:text-3xl font-bold mt-2 mb-4">Route 21 Platform</h3>
                                    <p class="text-cyber-dim text-sm leading-relaxed mb-6">
                                        Full-scale e-commerce platform for a real business client. Custom PHP/JS tailored functionality with focused UI/UX optimization for production.
                                    </p>
                                    <ul class="font-mono text-xs text-cyber-text space-y-2 mb-6">
                                        <li>> WordPress / WooCommerce</li>
                                        <li>> Custom PHP & JS</li>
                                        <li>> Production Ready</li>
                                    </ul>
                                </div>
                                <div class="text-6xl font-display font-bold text-cyber-gray/20 absolute bottom-4 right-4 group-hover:text-cyber-secondary/20 transition-colors">02</div>
                            </div>
                            <div class="md:w-1/2 bg-gradient-to-br from-cyber-gray to-black flex items-center justify-center relative overflow-hidden">
                                <div class="absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-cyber-secondary to-transparent"></div>
                                <div class="text-cyber-secondary font-mono text-xl z-10 group-hover:scale-110 transition-transform duration-500">
                                    [ STOREFRONT_LIVE ]
                                </div>
                            </div>
                        </div>

                        <!-- Project 3 -->
                        <div class="project-card w-[80vw] md:w-[50vw] h-[60vh] glass-panel flex flex-col md:flex-row border-t-4 border-cyber-accent p-0 overflow-hidden relative group shrink-0">
                            <div class="p-8 md:w-1/2 flex flex-col justify-between z-10 bg-cyber-black/90">
                                <div>
                                    <span class="font-mono text-cyber-accent text-xs">WEBGL // INTERACTIVE</span>
                                    <h3 class="font-display text-2xl md:text-3xl font-bold mt-2 mb-4">3D Portfolio</h3>
                                    <p class="text-cyber-dim text-sm leading-relaxed mb-6">
                                        Modern, interactive portfolio with 3D elements. Focused on performance optimization, smooth animations, and clean presentation using R3F.
                                    </p>
                                    <ul class="font-mono text-xs text-cyber-text space-y-2 mb-6">
                                        <li>> React Three Fiber</li>
                                        <li>> Three.js</li>
                                        <li>> Shaders</li>
                                    </ul>
                                </div>
                                <div class="text-6xl font-display font-bold text-cyber-gray/20 absolute bottom-4 right-4 group-hover:text-cyber-accent/20 transition-colors">03</div>
                            </div>
                            <div class="md:w-1/2 bg-gradient-to-br from-cyber-gray to-black flex items-center justify-center relative overflow-hidden">
                                 <div class="text-cyber-accent font-mono text-xl z-10 group-hover:scale-110 transition-transform duration-500">
                                    [ RENDER_IN_PROGRESS ]
                                </div>
                            </div>
                        </div>

                        <!-- Spacer at end -->
                        <div class="w-[20vw] shrink-0"></div>
                    </div>
                </div>
            </section>

            <!-- EXPERIENCE & EDUCATION GRID -->
            <section id="experience" class="py-24 px-6">
                <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-16">
                    
                    <!-- Work -->
                    <div>
                        <h3 class="font-mono text-cyber-primary mb-8 text-xl flex items-center gap-2">
                            <span class="w-2 h-2 bg-cyber-primary inline-block"></span> LOG: WORK_HISTORY
                        </h3>
                        <div class="border-l border-cyber-gray pl-8 space-y-12">
                            <div class="relative">
                                <span class="absolute -left-[37px] top-1 w-4 h-4 rounded-full bg-cyber-black border border-cyber-primary"></span>
                                <div class="text-xs font-mono text-cyber-dim mb-1">AUG 2024 – AUG 2025</div>
                                <h4 class="text-xl font-bold">Backend Developer & AI Engineer</h4>
                                <div class="text-cyber-primary text-sm mb-4">Sir Syed University (FYP)</div>
                                <p class="text-cyber-dim text-sm leading-relaxed">
                                    Designed Provident Fund System. Processed 10k+ records using Pandas/NumPy. Implemented AI-assisted prediction logic.
                                </p>
                            </div>
                            <div class="relative">
                                <span class="absolute -left-[37px] top-1 w-4 h-4 rounded-full bg-cyber-black border border-cyber-dim"></span>
                                <div class="text-xs font-mono text-cyber-dim mb-1">SEP 2025</div>
                                <h4 class="text-xl font-bold">Web Developer (Freelance)</h4>
                                <div class="text-cyber-primary text-sm mb-4">Route 21</div>
                                <p class="text-cyber-dim text-sm leading-relaxed">
                                    Developed e-commerce site with WordPress/WooCommerce. Custom PHP/JS solutions. Optimized checkout flow.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Education -->
                    <div>
                        <h3 class="font-mono text-cyber-secondary mb-8 text-xl flex items-center gap-2">
                            <span class="w-2 h-2 bg-cyber-secondary inline-block"></span> LOG: EDUCATION
                        </h3>
                         <div class="border-l border-cyber-gray pl-8 space-y-12">
                            <div class="relative">
                                <span class="absolute -left-[37px] top-1 w-4 h-4 rounded-full bg-cyber-black border border-cyber-secondary"></span>
                                <div class="text-xs font-mono text-cyber-dim mb-1">OCT 2021 – JULY 2025</div>
                                <h4 class="text-xl font-bold">BS Software Engineering</h4>
                                <div class="text-cyber-secondary text-sm mb-4">Sir Syed University</div>
                                <p class="text-cyber-dim text-sm leading-relaxed">
                                    CGPA: 3.6 / 4.0. Focused on backend development and software architecture.
                                </p>
                            </div>
                            <div class="relative">
                                <span class="absolute -left-[37px] top-1 w-4 h-4 rounded-full bg-cyber-black border border-cyber-dim"></span>
                                <div class="text-xs font-mono text-cyber-dim mb-1">2018 - 2021</div>
                                <h4 class="text-xl font-bold">Advanced Diploma in SE</h4>
                                <div class="text-cyber-secondary text-sm mb-4">Aptech Pakistan</div>
                                <p class="text-cyber-dim text-sm leading-relaxed">
                                    Strong foundation in programming, OOP, and full-stack fundamentals.
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

            <!-- FOOTER -->
            <section id="contact" class="h-[70vh] flex flex-col justify-center items-center relative border-t border-cyber-gray bg-black">
                <div class="absolute inset-0 overflow-hidden">
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60vw] h-[60vw] bg-cyber-primary/5 blur-[120px] rounded-full"></div>
                </div>
                
                <div class="relative z-10 text-center">
                    <p class="font-mono text-cyber-accent mb-4">INITIATE_COMMUNICATION</p>
                    <h2 class="font-display text-5xl md:text-7xl font-bold mb-8">LET'S BUILD<br>THE FUTURE</h2>
                    <a href="mailto:amaanrizwan2016@gmail.com" class="inline-block border border-cyber-dim px-10 py-4 text-xl hover:bg-cyber-primary hover:text-black hover:scale-105 transition-all duration-300 font-mono click-trigger shuffle-btn">
                        amaanrizwan2016@gmail.com
                    </a>
                </div>

                <div class="absolute bottom-10 w-full flex justify-between px-10 font-mono text-xs text-cyber-dim uppercase">
                    <div>© 2025 Amaan Rizwan</div>
                    <div class="flex gap-6">
                        <a href="https://github.com/AmaanRizwan01" class="hover:text-cyber-primary">GitHub</a>
                        <a href="https://www.linkedin.com/in/amaan-rizwan-se01" class="hover:text-cyber-primary">LinkedIn</a>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // --- AUDIO CONTROL (Mobile Optimized) ---
        const bgAudio = document.getElementById('bg-audio');
        const soundToggle = document.getElementById('sound-toggle');
        const soundIconOff = document.getElementById('sound-icon-off');
        const soundIconOn = document.getElementById('sound-icon-on');
        const soundText = document.getElementById('sound-text');
        
        let isSoundOn = false;
        let targetVolume = 0.5;
        let fadeInterval = null;
        let wasPlayingBeforeHidden = false;
        
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%&*!?';
        
        function shuffleText(element, finalText, duration = 500) {
            const originalText = finalText;
            const iterations = 10;
            const intervalTime = duration / iterations;
            let currentIteration = 0;
            
            const shuffleInterval = setInterval(() => {
                let shuffledText = '';
                for (let i = 0; i < originalText.length; i++) {
                    if (originalText[i] === ' ' || originalText[i] === ':') {
                        shuffledText += originalText[i];
                    } else if (currentIteration >= iterations * (i / originalText.length)) {
                        shuffledText += originalText[i];
                    } else {
                        shuffledText += chars[Math.floor(Math.random() * chars.length)];
                    }
                }
                element.textContent = shuffledText;
                currentIteration++;
                if (currentIteration >= iterations) {
                    clearInterval(shuffleInterval);
                    element.textContent = originalText;
                }
            }, intervalTime);
        }
        
        function fadeVolume(targetVol, duration = 500, callback = null) {
            if (fadeInterval) clearInterval(fadeInterval);
            const startVolume = bgAudio.volume;
            const volumeDiff = targetVol - startVolume;
            const steps = 20;
            const stepTime = duration / steps;
            let currentStep = 0;
            
            fadeInterval = setInterval(() => {
                currentStep++;
                bgAudio.volume = Math.max(0, Math.min(1, startVolume + ((volumeDiff / steps) * currentStep)));
                if (currentStep >= steps) {
                    clearInterval(fadeInterval);
                    bgAudio.volume = targetVol;
                    if (callback) callback();
                }
            }, stepTime);
        }
        
        function toggleSound() {
            isSoundOn = !isSoundOn;
            if (isSoundOn) {
                bgAudio.volume = 0;
                bgAudio.play().then(() => {
                    fadeVolume(targetVolume, 800);
                    soundIconOff.classList.add('hidden');
                    soundIconOn.classList.remove('hidden');
                    shuffleText(soundText, 'Sound: On');
                }).catch(e => { isSoundOn = false; });
            } else {
                fadeVolume(0, 800, () => { bgAudio.pause(); });
                soundIconOff.classList.remove('hidden');
                soundIconOn.classList.add('hidden');
                shuffleText(soundText, 'Sound: Off');
            }
        }
        
        soundToggle.addEventListener('click', toggleSound);
        
        function handleVisibilityChange() {
            if (document.hidden) {
                if (isSoundOn && !bgAudio.paused) {
                    wasPlayingBeforeHidden = true;
                    if (isMobile) bgAudio.pause();
                    else fadeVolume(0, 500, () => { bgAudio.pause(); });
                }
            } else {
                if (isSoundOn && wasPlayingBeforeHidden) {
                    bgAudio.volume = 0;
                    bgAudio.play().then(() => { fadeVolume(targetVolume, 800); }).catch(e => {});
                }
                wasPlayingBeforeHidden = false;
            }
        }

        document.addEventListener('visibilitychange', handleVisibilityChange);
        window.addEventListener('pagehide', () => {
            if (isMobile && isSoundOn && !bgAudio.paused) {
                wasPlayingBeforeHidden = true;
                bgAudio.pause();
            }
        });

        // SFX and Menu Logic
        const hoverSfx = document.getElementById('hover-sfx'); hoverSfx.volume = 0.3;
        const btnHoverSfx = document.getElementById('btn-hover-sfx'); btnHoverSfx.volume = 0.3;
        const btnClickSfx = document.getElementById('btn-click-sfx'); btnClickSfx.volume = 0.4;

        function playHoverSound() { if (isSoundOn) { hoverSfx.currentTime = 0; hoverSfx.play().catch(e => {}); } }
        function playBtnHoverSound() { if (isSoundOn) { btnHoverSfx.currentTime = 0; btnHoverSfx.play().catch(e => {}); } }

        document.querySelectorAll('.nav-link').forEach(item => {
            const originalText = item.textContent;
            item.addEventListener('mouseenter', () => { playHoverSound(); shuffleText(item, originalText, 300); });
        });

        if(soundToggle) soundToggle.addEventListener('mouseenter', playHoverSound);

        document.querySelectorAll('.shuffle-btn').forEach(btn => {
            const originalText = btn.innerText;
            btn.addEventListener('mouseenter', () => { playBtnHoverSound(); shuffleText(btn, originalText, 300); });
        });

        document.querySelectorAll('.click-trigger').forEach(link => {
            link.addEventListener('click', (e) => {
                if (isSoundOn) setTimeout(() => { btnClickSfx.currentTime = 0; btnClickSfx.play().catch(e => {}); }, 1500);
            });
        });

        // --- LENIS SMOOTH SCROLL ---
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            orientation: 'vertical',
            gestureOrientation: 'vertical',
            smoothWheel: true,
            wheelMultiplier: 1,
            touchMultiplier: 2,
        });

        function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
        requestAnimationFrame(raf);

        gsap.registerPlugin(ScrollTrigger);
        lenis.on('scroll', ScrollTrigger.update);
        gsap.ticker.add((time) => { lenis.raf(time * 1000); });
        gsap.ticker.lagSmoothing(0);

        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                const target = e.target.getAttribute('data-target');
                lenis.scrollTo(target);
            });
        });

        // --- CUSTOM CURSOR ---
        const cursor = document.getElementById('custom-cursor');
        if (!isMobile) {
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });
            document.querySelectorAll('a, button, .cursor-pointer, .project-card, .nav-link, #sound-toggle').forEach(el => {
                el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
            });
        }

        // --- THREE.JS BACKGROUND ---
        const canvasContainer = document.getElementById('webgl-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x030305, 0.015);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;
        camera.position.y = 2;
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        canvasContainer.appendChild(renderer.domElement);

        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 1500;
        const posArray = new Float32Array(particlesCount * 3);
        for(let i = 0; i < particlesCount; i++) {
            posArray[i * 3] = (Math.random() - 0.5) * 30;
            posArray[i * 3 + 1] = (Math.random() - 0.5) * 15;
            posArray[i * 3 + 2] = (Math.random() - 0.5) * 60;
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({ size: 0.03, color: 0x00f0ff, transparent: true, opacity: 0.8, blending: THREE.AdditiveBlending });
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - window.innerWidth / 2);
            mouseY = (event.clientY - window.innerHeight / 2);
        });

        const clock = new THREE.Clock();
        function animate() {
            const elapsedTime = clock.getElapsedTime();
            particlesMesh.rotation.y = -elapsedTime * 0.05;
            particlesMesh.rotation.x = mouseY * 0.0001;
            camera.rotation.y += 0.05 * ((mouseX * 0.001) - camera.rotation.y);
            camera.rotation.x += 0.05 * ((mouseY * 0.001) - camera.rotation.x);
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- TORNADO VORTEX EFFECT (Hidden on mobile via CSS) ---
        if (!isMobile) {
            (function initTornado() {
                const tornadoContainer = document.getElementById('tornado-container');
                const tornadoScene = new THREE.Scene();
                const tornadoCamera = new THREE.PerspectiveCamera(50, tornadoContainer.offsetWidth / tornadoContainer.offsetHeight, 0.1, 100);
                tornadoCamera.position.set(0, 1.5, 4);
                tornadoCamera.lookAt(0, 0.8, 0);
                const tornadoRenderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                tornadoRenderer.setSize(tornadoContainer.offsetWidth, tornadoContainer.offsetHeight);
                tornadoRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                tornadoContainer.appendChild(tornadoRenderer.domElement);
                
                const tornadoParams = { particleCount: 8000, height: 3, baseRadius: 0.8, topRadius: 0.15, rotationSpeed: 1.2, riseSpeed: 0.5, turbulence: 0.3 };
                const tornadoGeometry = new THREE.BufferGeometry();
                const positions = new Float32Array(tornadoParams.particleCount * 3);
                const colors = new Float32Array(tornadoParams.particleCount * 3);
                const sizes = new Float32Array(tornadoParams.particleCount);
                const randoms = new Float32Array(tornadoParams.particleCount * 3);
                const speeds = new Float32Array(tornadoParams.particleCount);
                
                const primaryColor = new THREE.Color(0x00f0ff);
                const secondaryColor = new THREE.Color(0xff8b4d);
                const accentColor = new THREE.Color(0x7000ff);
                
                for (let i = 0; i < tornadoParams.particleCount; i++) {
                    const y = Math.random() * tornadoParams.height;
                    const normalizedY = y / tornadoParams.height;
                    const radius = tornadoParams.baseRadius * (1 - normalizedY * 0.8) + tornadoParams.topRadius * normalizedY;
                    const angle = Math.random() * Math.PI * 2;
                    positions[i * 3] = Math.cos(angle) * radius;
                    positions[i * 3 + 1] = y;
                    positions[i * 3 + 2] = Math.sin(angle) * radius;
                    randoms[i * 3] = Math.random();
                    randoms[i * 3 + 1] = Math.random();
                    randoms[i * 3 + 2] = Math.random();
                    speeds[i] = 0.5 + Math.random() * 1.5;
                    const mixFactor = normalizedY + (Math.random() - 0.5) * 0.3;
                    const particleColor = new THREE.Color();
                    if (mixFactor < 0.5) particleColor.lerpColors(secondaryColor, primaryColor, mixFactor * 2);
                    else particleColor.lerpColors(primaryColor, accentColor, (mixFactor - 0.5) * 2);
                    colors[i * 3] = particleColor.r; colors[i * 3 + 1] = particleColor.g; colors[i * 3 + 2] = particleColor.b;
                    sizes[i] = (0.02 + Math.random() * 0.03) * (1 - normalizedY * 0.5);
                }
                
                tornadoGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                tornadoGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
                tornadoGeometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
                tornadoGeometry.setAttribute('aRandom', new THREE.BufferAttribute(randoms, 3));
                tornadoGeometry.setAttribute('aSpeed', new THREE.BufferAttribute(speeds, 1));
                
                const tornadoMaterial = new THREE.ShaderMaterial({
                    uniforms: { uTime: { value: 0 }, uPixelRatio: { value: Math.min(window.devicePixelRatio, 2) }, uHeight: { value: tornadoParams.height }, uBaseRadius: { value: tornadoParams.baseRadius }, uTopRadius: { value: tornadoParams.topRadius }, uRotationSpeed: { value: tornadoParams.rotationSpeed }, uRiseSpeed: { value: tornadoParams.riseSpeed }, uTurbulence: { value: tornadoParams.turbulence } },
                    vertexShader: `
                        attribute float size; attribute vec3 aRandom; attribute float aSpeed; attribute vec3 color;
                        uniform float uTime; uniform float uPixelRatio; uniform float uHeight; uniform float uBaseRadius; uniform float uTopRadius; uniform float uRotationSpeed; uniform float uRiseSpeed; uniform float uTurbulence;
                        varying vec3 vColor; varying float vAlpha;
                        void main() {
                            vColor = color; vec3 pos = position;
                            float animatedY = mod(pos.y + uTime * uRiseSpeed * aSpeed, uHeight);
                            float normalizedY = animatedY / uHeight;
                            float radius = uBaseRadius * (1.0 - normalizedY * 0.8) + uTopRadius * normalizedY;
                            radius += sin(animatedY * 10.0 + uTime * 2.0) * 0.05 * (1.0 - normalizedY);
                            float originalAngle = atan(position.z, position.x);
                            float rotationMultiplier = 1.0 + normalizedY * 2.0;
                            float angle = originalAngle + uTime * uRotationSpeed * rotationMultiplier * aSpeed;
                            angle += sin(animatedY * 5.0 + uTime * 3.0 + aRandom.x * 6.28) * uTurbulence * (1.0 - normalizedY * 0.5);
                            pos.x = cos(angle) * radius * (0.8 + aRandom.x * 0.4); pos.y = animatedY; pos.z = sin(angle) * radius * (0.8 + aRandom.z * 0.4);
                            pos.x += sin(animatedY * 8.0 + uTime * 2.0) * 0.03; pos.z += cos(animatedY * 8.0 + uTime * 2.0) * 0.03;
                            vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);
                            gl_Position = projectionMatrix * mvPosition;
                            float sizeMultiplier = 1.0 - normalizedY * 0.3;
                            gl_PointSize = size * sizeMultiplier * uPixelRatio * (300.0 / -mvPosition.z);
                            vAlpha = smoothstep(0.0, 0.1, normalizedY) * smoothstep(1.0, 0.7, normalizedY); vAlpha *= 0.6 + aRandom.y * 0.4;
                        }
                    `,
                    fragmentShader: `varying vec3 vColor; varying float vAlpha; void main() { float distanceToCenter = length(gl_PointCoord - vec2(0.5)); if (distanceToCenter > 0.5) discard; float alpha = 1.0 - smoothstep(0.3, 0.5, distanceToCenter); alpha *= vAlpha; vec3 finalColor = vColor * (1.0 + (1.0 - distanceToCenter * 2.0) * 0.5); gl_FragColor = vec4(finalColor, alpha); }`,
                    transparent: true, depthWrite: false, blending: THREE.AdditiveBlending, vertexColors: true
                });
                
                const tornadoParticles = new THREE.Points(tornadoGeometry, tornadoMaterial);
                tornadoScene.add(tornadoParticles);

                const coreGeometry = new THREE.IcosahedronGeometry(0.5, 0);
                const coreMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, wireframe: true, transparent: true, opacity: 0.15, blending: THREE.AdditiveBlending });
                const core = new THREE.Mesh(coreGeometry, coreMaterial); core.position.y = 1.2; tornadoScene.add(core);

                const innerCoreGeometry = new THREE.IcosahedronGeometry(0.2, 0);
                const innerCoreMaterial = new THREE.MeshBasicMaterial({ color: 0x00f0ff, transparent: true, opacity: 0.4, blending: THREE.AdditiveBlending });
                const innerCore = new THREE.Mesh(innerCoreGeometry, innerCoreMaterial); innerCore.position.y = 1.2; tornadoScene.add(innerCore);

                const tornadoClock = new THREE.Clock();
                function animateTornado() {
                    const elapsedTime = tornadoClock.getElapsedTime();
                    tornadoMaterial.uniforms.uTime.value = elapsedTime;
                    core.rotation.x = elapsedTime * 0.2; core.rotation.y = elapsedTime * 0.5;
                    innerCore.rotation.x = -elapsedTime * 0.4; innerCore.rotation.y = -elapsedTime * 0.2;
                    const floatY = 1.2 + Math.sin(elapsedTime) * 0.1; core.position.y = floatY; innerCore.position.y = floatY;
                    tornadoCamera.position.x = Math.sin(elapsedTime * 0.2) * 0.3; tornadoCamera.lookAt(0, 0.8, 0);
                    tornadoRenderer.render(tornadoScene, tornadoCamera);
                    requestAnimationFrame(animateTornado);
                }
                animateTornado();

                window.addEventListener('resize', () => {
                    tornadoCamera.aspect = tornadoContainer.offsetWidth / tornadoContainer.offsetHeight;
                    tornadoCamera.updateProjectionMatrix();
                    tornadoRenderer.setSize(tornadoContainer.offsetWidth, tornadoContainer.offsetHeight);
                });
            })();
        }

        // --- GSAP ANIMATIONS ---
        gsap.from('.reveal-text', { y: 50, opacity: 0, duration: 1, stagger: 0.1, ease: "power3.out", delay: 0.5 });
        
        ScrollTrigger.create({
            trigger: "body", start: "top top", end: "bottom bottom", scrub: 1,
            onUpdate: (self) => { camera.position.z = 5 - (self.progress * 2); }
        });

        const projectsContainer = document.getElementById("projects-container");
        const projectsWrapper = document.getElementById("projects-wrapper");
        function getScrollAmount() { return projectsContainer.scrollWidth - window.innerWidth; }
        
        gsap.to(projectsContainer, {
            x: () => -getScrollAmount(), ease: "none", overwrite: "auto",
            scrollTrigger: { trigger: projectsWrapper, start: "top top", end: () => `+=${getScrollAmount()}`, pin: true, scrub: 1, invalidateOnRefresh: true, anticipatePin: 1 }
        });

        gsap.utils.toArray('#about .glass-panel, #expertise .glass-panel').forEach(panel => {
            gsap.from(panel, { opacity: 0, y: 50, duration: 1, scrollTrigger: { trigger: panel, start: "top 85%", end: "bottom 20%", toggleActions: "play none none reverse" } });
        });
        
        gsap.utils.toArray('#experience .relative').forEach((item, i) => {
            gsap.from(item, { opacity: 0, x: -30, duration: 0.8, delay: i * 0.1, scrollTrigger: { trigger: item, start: "top 85%", toggleActions: "play none none reverse" } });
        });
        
        gsap.from('#contact .relative.z-10', { opacity: 0, y: 50, duration: 1, scrollTrigger: { trigger: '#contact', start: "top 70%", toggleActions: "play none none reverse" } });

        const sections = ['hero', 'about', 'expertise', 'projects-wrapper', 'contact'];
        sections.forEach(id => {
            const section = document.getElementById(id);
            if(section) {
                ScrollTrigger.create({
                    trigger: section, start: "top 50%", end: "bottom 50%",
                    onEnter: () => updateNav(id), onEnterBack: () => updateNav(id)
                });
            }
        });
        function updateNav(id) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if(link.getAttribute('data-target') === `#${id}`) link.classList.add('active');
            });
        }
    </script>
</body>
</html>
